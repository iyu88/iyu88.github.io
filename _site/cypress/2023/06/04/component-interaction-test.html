<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    [Cypress/Storybook] ì»´í¬ë„ŒíŠ¸ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸
  </title>
  <meta name="description" content="ì»´í¬ë„ŒíŠ¸ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸">
  
  <meta name="author" content="Hyunbin Lee">
  <meta name="copyright" content="&copy; Hyunbin Lee 2023">
  

  <!-- External libraries -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/monokai-sublime.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css">

  <!-- Favicon and other icons (made with http://www.favicon-generator.org/) -->
  <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  

  

  

  <!-- Site styles -->
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/cypress/2023/06/04/component-interaction-test.html">
  <link rel="alternate" type="application/rss+xml" title="êµ¬ë©ì„ ì™¸ë©´í•˜ì§€ ë§ì" href="http://localhost:4000/feed.xml" />

  <!-- Tooltips -->
  <script type="text/javascript">
    window.tooltips = []
  </script>

  
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-P48NKV3');</script>
  <!-- End Google Tag Manager -->
  
  
</head>


  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4H99JTCZN9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    if (location.host === 'iyu88.github.io') {
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      gtag('config', 'G-4H99JTCZN9');
    }
  </script>
  <!-- End of Google tag (gtag.js) -->

  <body>

    
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P48NKV3"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  
    

    <header class="navigation" role="banner">
  <div class="navigation-wrapper">
    <a href="/" class="logo">
      
      <img src="/assets/logo.png" alt="êµ¬ë©ì„ ì™¸ë©´í•˜ì§€ ë§ì">
      <h4 class="title">Hyunbin Lee</h4>
      
    </a>
    <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu">
      <i class="fa fa-bars"></i>
    </a>
    <nav role="navigation">
      <ul id="js-navigation-menu" class="navigation-menu show">
				
	

	

	
	<li class="nav-link"><a href="/posts/">Posts</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	


      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
        <div class="post">

  <div class="post-header-container has-cover" style="background-image: url(/assets/instacode.png);" >
    <div class="scrim has-cover">
      <header class="post-header">
        <h1 class="title">
          [Cypress/Storybook] ì»´í¬ë„ŒíŠ¸ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸
        </h1>
        <p class="info">by <strong>
            Hyunbin Lee</strong></p>
      </header>
    </div>
  </div>

  <div class="wrapper">

    

    <section class="post-meta">
      <div class="post-date">
        June 4, 2023
      </div>
      <div class="post-categories">
        in 
        
        <a href="/category/Cypress">
          Cypress</a>
        
        
      </div>
    </section>

    <article class="post-content">
      <h1 id="ì»´í¬ë„ŒíŠ¸-ì¸í„°ë™ì…˜-í…ŒìŠ¤íŠ¸">ì»´í¬ë„ŒíŠ¸ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸</h1>

<blockquote>
  <h3 id="-ì»´í¬ë„ŒíŠ¸-ì¸í„°ë™ì…˜ì„-í…ŒìŠ¤íŠ¸í•´ë³´ê¸°-ìœ„í•´ì„œ-storybookì—ì„œ-cypressì™€-play-functionì„-ì ìš©í•œ-ë‚´ìš©ì„-ì •ë¦¬í•©ë‹ˆë‹¤">ğŸ’¡ ì»´í¬ë„ŒíŠ¸ ì¸í„°ë™ì…˜ì„ í…ŒìŠ¤íŠ¸í•´ë³´ê¸° ìœ„í•´ì„œ Storybookì—ì„œ Cypressì™€ Play functionì„ ì ìš©í•œ ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</h3>
</blockquote>

<h2 id="1-ë“¤ì–´ê°€ë©°">1. ë“¤ì–´ê°€ë©°</h2>

<p>ì´ì „ì— ì‘ì„±í–ˆë˜ ê¸€(<a href="https://iyu88.github.io/react/2023/03/25/react-compound-component-pattern.html">ë””ìì¸ ì‹œìŠ¤í…œì— Compound Component Pattern ì ìš©í•´ë³´ê¸°</a>, <a href="https://iyu88.github.io/storybook/2023/04/07/storybook-docs.html">ìŠ¤í† ë¦¬ë¶ì˜ Docs ê¸°ëŠ¥ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œí™”í•˜ê¸°</a>)ì— ì´ì–´ì„œ CDS(Cold Design System)ì™€ ê´€ë ¨ëœ ì„¸ë²ˆì§¸ ê¸€ì„ ì‘ì„±í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. CDSë¥¼ ê°œë°œí•  ë•Œ ë‹´ë‹¹í–ˆë˜ ì»´í¬ë„ŒíŠ¸ ì¤‘ í•˜ë‚˜ì¸ Slider ì»´í¬ë„ŒíŠ¸ëŠ” <code class="language-plaintext highlighter-rouge">&lt;input type='range' /&gt;</code>ì²˜ëŸ¼ ì‚¬ìš©ìê°€ ê°’ì„ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” UIë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/09b25e65-a816-426e-9899-3c09d8f8d187" alt="HTMLì˜ &lt;input tpye='range' /&gt;ì™€ CDSì˜ &lt;Slider /&gt;" />
<em>HTMLì˜ &lt;input tpye=â€™rangeâ€™ /&gt;ì™€ CDSì˜ &lt;Slider /&gt;</em>
<br /></p>

<p>Slider ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ê³  PRì„ ì˜¬ë¦´ ë‹¹ì‹œ íŒ€ì›ë“¤ì—ê²Œ í•­ìƒ í–ˆë˜ ë§ì€ <strong>â€œì‹¤ì œë¡œ ì˜ ì›€ì§ì´ëŠ”ì§€ ìŠ¤í† ë¦¬ë¶ì—ì„œ ê¼­ í…ŒìŠ¤íŠ¸í•´ì£¼ì„¸ìš”â€</strong> ì˜€ìŠµë‹ˆë‹¤. Sliderë¥¼ êµ¬ì„±í•˜ê³  ìˆëŠ” ìš”ì†Œë“¤ì´ ì‚¬ìš©ì ì´ë²¤íŠ¸ì— ì˜í•´ì„œ ì •ìƒì ì¸ ìœ„ì¹˜ì— ë Œë”ë§ ë˜ì–´ì•¼ í–ˆê³ , ì´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ì§ì ‘ ê²€ìˆ˜í•˜ëŠ” ë°©ë²• ë°–ì— ì—†ì—ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/f8fab42f-7cfe-4892-a804-a43a29ae306e" alt="Slider êµ¬ì„± ìš”ì†Œ" />
<em>Slider êµ¬ì„± ìš”ì†Œ</em>
<br /></p>

<p>ì²˜ìŒì—ëŠ” ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë§Œ êµ¬í˜„í–ˆê¸° ë•Œë¬¸ì— ì§ì ‘ Thumbë¥¼ ì›€ì§ì´ë©° ê°’ì´ ì •ìƒì ìœ¼ë¡œ ë³€í•˜ëŠ”ì§€ í™•ì¸í•˜ë©´ ëì§€ë§Œ, ì´í›„ <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/slider_role#keyboard_interactions">MDNì—ì„œ ë‹¤ë£¨ëŠ” í‚¤ë³´ë“œ ì ‘ê·¼ì„±</a>ì„ ì§€ì›í•˜ê¸° ìœ„í•´ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë„ ì¶”ê°€í•˜ë‹¤ë³´ë‹ˆ í™•ì¸í•´ì•¼ í•  ë¶€ë¶„ì´ ë§ì•„ì¡ŒìŠµë‹ˆë‹¤.</p>

<p>Storybookì—ì„œ ê° ìŠ¤í† ë¦¬ë§ˆë‹¤ ì¸í„°ë™ì…˜ì„ ì¼ì¼ì´ í™•ì¸í•´ì•¼ í•˜ëŠ” ë¶ˆí¸í•œ ì ì„ ê°œì„ í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ <code class="language-plaintext highlighter-rouge">Cypress</code>ì™€ Storybookì˜ <code class="language-plaintext highlighter-rouge">Play function</code>ì„ ê°ê° ì ìš©í•´ë³´ê³  ê°„ë‹¨í•˜ê²Œ ë¹„êµí•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="2-cypress">2. Cypress</h2>

<p>CypressëŠ” ì‹¤ì œ ì‚¬ìš©ìê°€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” E2E(End-to-End) í…ŒìŠ¤íŠ¸ ë„êµ¬ë¡œ ë§ì´ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤. Cypress ê³µì‹ í™ˆí˜ì´ì§€ì—ì„œëŠ” ì‹œê°ì ìœ¼ë¡œ ë””ë²„ê¹…í•˜ê³ , CI ë‹¨ê³„ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ê³  ì†Œê°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>

<blockquote>
  <p>With Cypress, you can easily create tests for your modern web applications, debug them visually, and automatically run them in your continuous integration builds.</p>
</blockquote>

<p>ì¦‰, ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ì•¼ í•˜ëŠ”ì§€ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ì´ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ì„œ ì˜¤ë¥˜ë¥¼ ê²€ì‚¬í•´ì¤ë‹ˆë‹¤. Cypressì—ì„œëŠ” <a href="https://docs.cypress.io/guides/end-to-end-testing/writing-your-first-end-to-end-test">E2E í…ŒìŠ¤íŠ¸</a> ì´ì™¸ì—ë„ Component ë‹¨ìœ„ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” <a href="https://docs.cypress.io/guides/component-testing/overview">Component í…ŒìŠ¤íŠ¸</a>ë„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. E2E í…ŒìŠ¤íŠ¸ëŠ” URLë¡œ íŠ¹ì • ì‚¬ì´íŠ¸ì— ë°©ë¬¸(visit)í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì´ê³ , Component í…ŒìŠ¤íŠ¸ëŠ” íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±(mount)í•˜ì—¬ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>

<p>ì—¬ê¸°ì„œëŠ” Storybookìœ¼ë¡œ ì‘ì„±í•œ ê° ìŠ¤í† ë¦¬ì— ëŒ€í•´ì„œ Cypressë¥¼ ì ìš©í•˜ëŠ” ê²ƒì´ë¯€ë¡œ E2E í…ŒìŠ¤íŠ¸ ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<p><br /></p>

<h3 id="2-1-í™˜ê²½-ì„¤ì •">2-1. í™˜ê²½ ì„¤ì •</h3>

<p>ë¨¼ì € Cypressë¥¼ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs shell">yarn add cypress --dev
npx cypress open
</code>
</pre>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/49d3e49f-c046-4b74-b5b7-062aa3ad5fa5" alt="Cypress ì‹¤í–‰ í™”ë©´" />
<em>Cypressê°€ ì—´ë¦¬ë©´ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ E2E Testingì„ ì„ íƒí•©ë‹ˆë‹¤.</em>
<br /></p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/38159049-0068-422e-9a25-13be56117f35" alt="Cypress Configuration íŒŒì¼ ëª©ë¡" />
<em>ê¸°ë³¸ ì„¤ì • íŒŒì¼ ëª©ë¡ì´ ë‚˜ì˜µë‹ˆë‹¤. Continueë¥¼ ëˆŒëŸ¬ ê³„ì†í•©ë‹ˆë‹¤.</em>
<br /></p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/1c88f677-6ced-427c-bfc9-dc32f2be23fe" alt="Browser ì„ íƒ í™”ë©´" />
<em>í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  ë¸Œë¼ìš°ì €ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. Chromeìœ¼ë¡œ ì„ íƒí•œ ë’¤ ì´ˆë¡ìƒ‰ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒˆë¡œìš´ Chrome ì°½ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.</em>
<br /></p>

<p>ì´í›„ ì‘ì„±í•  í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ ì—ë””í„°ê°€ ë°œìƒì‹œí‚¤ëŠ” ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•„ë˜ì²˜ëŸ¼ eslint í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ê³  <code class="language-plaintext highlighter-rouge">.eslintrc</code>ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs shell">yarn add eslint-plugin-cypress --dev
</code>
</pre>

<pre>
<code class="hljs js">// .eslintrc
{
  "extends": [
    // (ìƒëµ)
    "plugin:cypress/recommended" // ì¶”ê°€  
  ],
  // "cypress" ì¶”ê°€
  "plugins": ["react", "@typescript-eslint", "import", "jsx-a11y", "cypress"], 
  // (ìƒëµ)
}
</code>
</pre>

<p>ë˜í•œ TypeScriptë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ ìƒì„±ëœ <code class="language-plaintext highlighter-rouge">cypress</code> í´ë” ë‚´ë¶€ì—ì„œ ì‘ì„±í•˜ëŠ” .ts íŒŒì¼ë„ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ <code class="language-plaintext highlighter-rouge">tsconfig.json</code> íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// tsconfig.json
{
  // (ìƒë½)
  "include": ["src", "**/*.ts"], // "**/*.ts" ì¶”ê°€
}
</code>
</pre>

<p>Storybookì˜ ìŠ¤í† ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸ ëŒ€ìƒìœ¼ë¡œ ì‚¼ìœ¼ë ¤ë©´ ë¡œì»¬ì—ì„œ Storybookê³¼ Cypressê°€ í•¨ê»˜ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. Storybookì„ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ì™€ <code class="language-plaintext highlighter-rouge">npx cypress open</code> ëª…ë ¹ì–´ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ <code class="language-plaintext highlighter-rouge">concurrently</code>ì™€ <code class="language-plaintext highlighter-rouge">wait-on</code>ì„ ì¶”ê°€ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>

<ul>
  <li>concurrently : í„°ë¯¸ë„ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì»¤ë§¨ë“œë¥¼ í•¨ê»˜ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬</li>
  <li>wait-on : íŠ¹ì • íŒŒì¼, í¬íŠ¸, ì†Œì¼“ì´ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì£¼ëŠ” ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬</li>
</ul>

<pre>
<code class="hljs shell">yarn add concurrently wait-on --dev
</code>
</pre>

<p>package.jsonì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì»¤ë§¨ë“œë¥¼ ìˆ˜ì •í•˜ì—¬ <code class="language-plaintext highlighter-rouge">yarn test</code>ë§Œ ì…ë ¥í•˜ë©´ Storybookê³¼ Cypressê°€ í•œë²ˆì— ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// package.json
"scripts": {
  // (ìƒëµ)
  'dev': "yarn storybook",
  "storybook": "start-storybook -p 6006",
  "test:cy": "cypress open",
  "test": "concurrently 'yarn dev' 'wait-on http://localhost:6006 &amp;&amp; yarn test:cy'"
},
</code>
</pre>

<p><br /></p>

<h3 id="2-2-ê°„ë‹¨í•œ-í…ŒìŠ¤íŠ¸-ì½”ë“œ-ì‘ì„±í•´ë³´ê¸°">2-2. ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±í•´ë³´ê¸°</h3>

<p>ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ ìƒì„±í•˜ì—¬ Cypress ë™ì‘ì„ íŒŒì•…í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/init.cy.ts
describe('Initial cypress test', () =&gt; { // (1)
  beforeEach(() =&gt; { // (2)
    cy.visit('http://localhost:6006'); // (3)
  });

  it('First test case', () =&gt; { // (4)
    cy.get("a[title='Storybook']").should('be.visible'); // (5)
  });
});
</code>
</pre>

<ol>
  <li>describe() : ì–´ë–¤ í…ŒìŠ¤íŠ¸ ì½”ë“œì¸ì§€ í•˜ë‚˜ë¡œ ë¬¶ì–´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.</li>
  <li>beforeEach() : í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í•˜ë‚˜ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ë§¤ë²ˆ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
  <li>cy.visit() : ì¸ìë¡œ ë“¤ì–´ê°„ ì‚¬ì´íŠ¸(í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  URL)ë¥¼ ë°©ë¬¸í•©ë‹ˆë‹¤.</li>
  <li>it() : í•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.</li>
  <li>cy.get() : ì„ íƒìë¥¼ ì‚¬ìš©í•˜ì—¬ DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìµœìƒìœ„ ìš”ì†Œë¶€í„° íƒìƒ‰í•©ë‹ˆë‹¤.
<br />
cy.should() : ì²´ì´ë‹ ëŒ€ìƒì´ ì–´ë–¤ ìƒíƒœê°€ ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ëª…ì‹œí•©ë‹ˆë‹¤.</li>
</ol>

<p>ì¦‰, ìœ„ ì½”ë“œëŠ” <strong>â€˜http://localhost:6006â€™ìœ¼ë¡œ ì ‘ì†í•´ì„œ â€œa[title=â€™Storybookâ€™]â€ ì„ íƒìë¥¼ ê°€ì§€ê³  ìˆëŠ” DOM ìš”ì†Œê°€ í™”ë©´ì— ìˆëŠ”ì§€</strong> í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤. Cypressë¡œ ì‹¤í–‰ëœ ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ ì„ íƒí•˜ë©´ Storybook ë¡œê³ ë¥¼ ì°¾ì•„ì„œ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/de7a328e-029c-494f-b78b-15852b53e02e" alt="Storybook ë¡œê³ ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µê³¼í•œ ëª¨ìŠµ" />
<em>ë¹¨ê°„ìƒ‰ ë°•ìŠ¤ë¡œ í‘œì‹œëœ ë¶€ë¶„ì— ìˆëŠ” ë¡œê³ ê°€ ì •ìƒì ìœ¼ë¡œ ë Œë”ë§ ëœ ê²ƒì„ í™•ì¸í•´ì¤ë‹ˆë‹¤.</em>
<br /></p>

<p><br /></p>

<h3 id="2-3-dom-ìš”ì†Œ-ê°€ì ¸ì˜¤ê¸°">2-3. DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°</h3>

<p>Slider ì»´í¬ë„ŒíŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” ì´ë²¤íŠ¸ì™€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
    <ol>
      <li>Thumbê°€ ì¢Œì¸¡ìœ¼ë¡œ ì´ë™í–ˆì„ ë•Œ ìµœì†Ÿê°’ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ê°€</li>
      <li>Thumbê°€ ìš°ì¸¡ìœ¼ë¡œ ì´ë™í–ˆì„ ë•Œ ìµœëŒ“ê°’ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ê°€</li>
    </ol>
  </li>
  <li>í‚¤ë³´ë“œ ì´ë²¤íŠ¸
    <ol>
      <li>ë°©í–¥í‚¤ â¬…ï¸ / â¬‡ï¸ ë¥¼ ëˆŒë €ì„ ë•Œ ê°’ì´ stepë§Œí¼ ê°ì†Œí•˜ëŠ”ê°€</li>
      <li>ë°©í–¥í‚¤ â¡ï¸ / â¬†ï¸ ë¥¼ ëˆŒë €ì„ ë•Œ ê°’ì´ stepë§Œí¼ ê°ì†Œí•˜ëŠ”ê°€</li>
      <li>PageDown í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ê°’ì´ 10% ê°ì†Œí•˜ëŠ”ê°€</li>
      <li>PageUp í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ê°’ì´ 10% ì¦ê°€í•˜ëŠ”ê°€</li>
      <li>Home í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ìµœì†Ÿê°’ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ê°€</li>
      <li>End í‚¤ë¥¼ ëˆŒë €ì„ ë•Œ ìµœëŒ“ê°’ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ê°€</li>
    </ol>
  </li>
</ul>

<p>ë¨¼ì € Sliderì˜ <code class="language-plaintext highlighter-rouge">Default</code> ìŠ¤í† ë¦¬ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
describe('Slider component test', () =&gt; {
  beforeEach(() =&gt; {
    cy.visit('http://localhost:6006/?path=/docs/components-slider--default'); // (1)
  });

  describe('Default slider', () =&gt; {
    it('Click min value', () =&gt; {
      cy.get("#story--components-slider--default").should('be.visible'); // (2)
    });
  });
});
</code>
</pre>

<ol>
  <li>localhost:6006ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ìŠ¤í† ë¦¬ì— ì ‘ê·¼í•˜ì—¬</li>
  <li>Sliderì˜ DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œë¥¼ ì‘ì„±í–ˆì§€ë§Œ ê²°ê³¼ëŠ” ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</li>
</ol>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/78fbb3f5-55f7-4a33-a8a2-fa7185514551" alt="cy.get()ì—ì„œ DOM ìš”ì†Œì— ì ‘ê·¼í•˜ì§€ ëª»í•´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤íŒ¨í•œ ëª¨ìŠµ" />
<em>cy.get()ì—ì„œ DOM ìš”ì†Œì— ì ‘ê·¼í•˜ì§€ ëª»í•´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤.</em>
<br /></p>

<p>cy.visit()ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë§í¬ì—ì„œ DOM êµ¬ì¡°ë¥¼ í™•ì¸í•´ë³´ë©´ ì‹¤ì œ Slider ì»´í¬ë„ŒíŠ¸ê°€ ìœ„ì¹˜í•œ ê³³ì´ iframeìœ¼ë¡œ ë‘˜ëŸ¬ìŒ“ì—¬ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/2ee86086-277b-4190-8011-c153e1986984" alt="ê°œë°œì ë„êµ¬ì—ì„œ DOM êµ¬ì¡°ë¥¼ í™•ì¸í•˜ë‹ˆ ìŠ¤í† ë¦¬ë“¤ì´ iframe ë‚´ë¶€ì— ìˆëŠ” ëª¨ìŠµ" />
<em>ê°œë°œì ë„êµ¬ì—ì„œ DOM êµ¬ì¡°ë¥¼ í™•ì¸í•˜ë‹ˆ ìŠ¤í† ë¦¬ë“¤ì´ iframe ë‚´ë¶€ì— ì¡´ì¬í•©ë‹ˆë‹¤.</em>
<br /></p>

<p>iframeìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ Cypress ë©”ì„œë“œë“¤ì„ ì²´ì´ë‹í•˜ì—¬ ë‹¤ì†Œ ë³µì¡í•œ ì½”ë“œë¥¼ ë§Œë“¤ì–´ëƒˆìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
describe('Slider component test', () =&gt; {
  beforeEach(() =&gt; {
    cy.visit('http://localhost:6006/?path=/docs/components-slider--default');
  });

  describe('Default slider', () =&gt; {
    it('Click min value', () =&gt; {
      cy.get("#storybook-preview-iframe")
        .its('0.contentDocument.body')
        .should('not.be.empty')
        .then(body =&gt; cy.wrap(body).find('#story--components-slider--default'))
        .should('be.visible');
    });
  });
});
</code>
</pre>

<ul>
  <li>cy.its() : ì²´ì´ë‹ëœ ëŒ€ìƒìœ¼ë¡œë¶€í„° ë§¤ê°œë³€ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ì†ì„± ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.</li>
  <li>cy.then() : ë‹¤ìŒì— ìˆ˜í–‰í•  ì‘ì—…ì„ ì—°ì†ì ìœ¼ë¡œ ì„ ì–¸í•©ë‹ˆë‹¤.</li>
  <li>cy.wrap() : cypress ì²´ì´ë‹ì„ ì ìš©í•˜ê³  ì‹¶ì€ ê°ì²´ë¥¼ ê°ì‹¸ì¤ë‹ˆë‹¤. ë§¤ê°œë³€ìˆ˜ê°€ Promiseì¼ ê²½ìš° resolveë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.</li>
  <li>cy.find() : cy.get()ì²˜ëŸ¼ DOM ìš”ì†Œë¥¼ ì°¾ì§€ë§Œ, ìµœìƒìœ„ê°€ ì•„ë‹Œ í˜„ì¬ ì²´ì´ë‹ëœ ëŒ€ìƒë¶€í„° íƒìƒ‰í•©ë‹ˆë‹¤.</li>
</ul>

<p>ìœ„ ë©”ì„œë“œë“¤ì„ ì‚¬ìš©í•˜ì—¬ <code class="language-plaintext highlighter-rouge">#storybook-preview-iframe</code>ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ì„œ iframe ë‚´ë¶€ì— DOM ìš”ì†Œë¥¼ ë¶ˆëŸ¬ì™”ì„ ë•Œ <code class="language-plaintext highlighter-rouge">#story--components-slider--default</code>ë¥¼ idë¡œ í•˜ëŠ” Sliderê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/fdd2dbab-314e-4334-8226-2c7ab7bfa157" alt="Default Sliderê°€ ë Œë”ë§ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•œ ëª¨ìŠµ" />
<em>Default Sliderê°€ ë Œë”ë§ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í–ˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p>ê²°ê³¼ì ìœ¼ë¡œëŠ” í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ë˜ëŠ” DOMì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆì—ˆì§€ë§Œ ë³µì¡í•˜ê³  ë¶ˆí•„ìš”í•œ ì •ë³´ê°€ ì½”ë“œì— ë…¸ì¶œë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ Cypressì˜ <code class="language-plaintext highlighter-rouge">Custom Commands</code> ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ë³€ê²½í•˜ê³ , ì¶”ê°€ì ìœ¼ë¡œ ìŠ¤í† ë¦¬ì— ì ‘ê·¼í•˜ëŠ” cy.visit() ë¶€ë¶„ë„ ë³„ë„ì˜ ì»¤ë§¨ë“œë¡œ ì •ì˜í–ˆìŠµë‹ˆë‹¤. cypress/support í´ë”ì— ìˆëŠ” <code class="language-plaintext highlighter-rouge">commands.ts</code> íŒŒì¼ì—ì„œ ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/support/commands.ts
Cypress.Commands.add("visitStory", (componentName, storyName) =&gt; {
  cy.visit(`http://localhost:6006/iframe.html?id=components-${componentName}--${storyName}&amp;viewMode=story`)
})

Cypress.Commands.add("getStory", (componentName, storyName) =&gt; {
  return cy.get("#storybook-preview-iframe")
            .its('0.contentDocument.body')
            .should('not.be.empty')
            .then(body =&gt; cy.wrap(body).find(`#story--components-${componentName}--${storyName}`));
})
</code>
</pre>

<p>ì´ë ‡ê²Œ ì¶”ê°€í•œ ì»¤ë§¨ë“œë“¤ì˜ íƒ€ì…ì„ ì •ì˜í•´ì£¼ê¸° ìœ„í•´ ë™ì¼í•œ ê²½ë¡œì— <code class="language-plaintext highlighter-rouge">index.d.ts</code>ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/support/index.d.ts
declare namespace Cypress {
  interface Chainable {
    visitStory(path: string): void,
    getStory(componentName: string, storyName: string): Chainable&lt;JQuery&lt;HTMLElement&gt;&gt;
  }
}
</code>
</pre>

<p>ì´ë¥¼ í†µí•´ì„œ ì•ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">cy.visitStory()</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³´ë‹¤ ì§§ì€ ì½”ë“œë¡œ ìŠ¤í† ë¦¬ì— ì ‘ê·¼í•˜ê³ , <code class="language-plaintext highlighter-rouge">cy.getStory()</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„í¸í•˜ê²Œ ê° ìŠ¤í† ë¦¬ DOMì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ cy.as() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ cy.getStory()ë¡œ ì°¾ì€ DOM ìš”ì†Œì— aliasë¥¼ ì§€ì •í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
describe('Slider component test', () =&gt; {
  beforeEach(() =&gt; {
    cy.visitStory('components-slider');
    cy.getStory('slider', 'default').as('slider');
  });

  describe('Default slider', () =&gt; {
    it('Click min value', () =&gt; {
      // í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
    });
  });
});
</code>
</pre>

<p>.as()ì— ì¸ìë¡œ <code class="language-plaintext highlighter-rouge">slider</code>ë¥¼ ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— ì´í›„ë¶€í„° <code class="language-plaintext highlighter-rouge">#story--components-slider--default</code>ì— ì ‘ê·¼í•  ë•Œ <code class="language-plaintext highlighter-rouge">@slider</code>ë¼ëŠ” ê°„ë‹¨í•œ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h3 id="2-4-ë§ˆìš°ìŠ¤-ì´ë²¤íŠ¸-í…ŒìŠ¤íŠ¸í•˜ê¸°">2-4. ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°</h3>

<p>ì´ì œ Slider í•˜ìœ„ì— ìˆëŠ” <code class="language-plaintext highlighter-rouge">track</code>ê³¼ <code class="language-plaintext highlighter-rouge">thumb</code>ë¥¼ ì°¾ì•„ì„œ ì‹¤ì œë¡œ trackì˜ ê°€ì¥ ì™¼ìª½ì„ í´ë¦­í–ˆì„ ë•Œ thumbì— í‘œì‹œë˜ëŠ” ê°’ì´ ìµœì†Ÿê°’ì´ ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. ë‘ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ id ì†ì„± ê°’ì„ ìƒìˆ˜ë¡œ ì„ ì–¸í•˜ê³  aliasë„ ì§€ì •í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
const SLIDER_PREFIX = '#cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

describe('Slider component test', () =&gt; {
  beforeEach(() =&gt; {
    cy.visitStory('components-slider');
    cy.getStory('slider', 'default').as('slider');
    cy.get('@slider').find(TRACK_ID).as('track');
    cy.get('@slider').find(THUMB_ID).as('thumb');
  });

  describe('Default slider', () =&gt; {
    it('Click min value', () =&gt; {
      cy.get('@track').click('left');
      cy.get('@thumb').invoke('text').should('eq', '0');  
    });
  });
});
</code>
</pre>

<p>click()ì˜ ì¸ìë¡œ <code class="language-plaintext highlighter-rouge">left</code>ë¥¼ ì „ë‹¬í•˜ì—¬ DOM ìš”ì†Œì˜ ê°€ì¥ ì™¼ìª½ ì¢Œí‘œë¥¼ í´ë¦­í•˜ê³  thumb ë‚´ë¶€ì— ìˆëŠ” textê°€ ìµœì†Ÿê°’ì¸ 0ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. cy.invoke(â€˜textâ€™)ë¥¼ ì‚¬ìš©í•´ì„œ í…ìŠ¤íŠ¸ ë…¸ë“œ ê°’ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ Cypressì—ì„œ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/3bb451ff-62cf-4163-acd5-b123f29e2123" alt="'Click Min Value' í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•œ ëª¨ìŠµ" />
<em>â€˜Click Min Valueâ€™ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í–ˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p>ì¶”ê°€ì ìœ¼ë¡œ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê³  ë‚˜ì„œ ì‹¤ì œë¡œ <code class="language-plaintext highlighter-rouge">filled</code>ì™€ thumbì˜ ìœ„ì¹˜ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">shouldBeEqualPercentage()</code> í•¨ìˆ˜ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ë”ë¶ˆì–´ì„œ aliasë¥¼ ì§„í–‰í•˜ëŠ” ì½”ë“œ ì—­ì‹œ <code class="language-plaintext highlighter-rouge">initAlias()</code> í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
const SLIDER_PREFIX = '#cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const FILLED_ID = `${SLIDER_PREFIX}-filled`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

describe('Slider component test', () =&gt; {
  const initAlias = (storyName: string) =&gt; {
    cy.getStory('slider', storyName).as('slider');
    cy.get('@slider').find(TRACK_ID).as('track');
    cy.get('@slider').find(FILLED_ID).as('filled');
    cy.get('@slider').find(THUMB_ID).as('thumb');
  }

  // ì¶”ê°€
  const shouldBeEqualPercentage = (dimension: FilledDimension, position: ThumbPosition) =&gt; {
    cy.get('@filled').then(([ filledElement ]) =&gt; {
      cy.get('@thumb').then(([ thumbElement ]) =&gt; {
        const filledStyle = window.getComputedStyle(filledElement)[dimension];
        const thumbStyle = window.getComputedStyle(thumbElement)[position];
        expect(filledStyle).equal(thumbStyle);
      });
    });
  }

  beforeEach(() =&gt; {
    cy.visitStory('components-slider');
  });

  describe('Default slider', () =&gt; {
    beforeEach(() =&gt; {
      initAlias('default');
    })

    // ì¶”ê°€ 
    afterEach(() =&gt; {
      shouldBeEqualPercentage('width', 'left');
    })

    it('Click min value', () =&gt; {
      cy.get('@track').click('left');
      cy.get('@thumb').invoke('text').should('eq', '0');
    });
  });
});
</code>
</pre>

<p>shouldBeEqualPercentage() í•¨ìˆ˜ì—ì„œ ê°ê° filledì™€ thumbì—ì„œ í™•ì¸í•˜ê³  ì‹¶ì€ CSS ì†ì„± ì´ë¦„ì„ ë°›ì•„ì„œ ë‘ ê°’ì´ ë™ì¼í•œì§€ í™•ì¸í•©ë‹ˆë‹¤. ê°€ë ¹ thumbê°€ trackì˜ ì •ì¤‘ì•™ì— ìœ„ì¹˜í•œë‹¤ë©´ thumbëŠ” <code class="language-plaintext highlighter-rouge">left: 50%</code> ì¸ ìƒíƒœì´ê¸° ë•Œë¬¸ì— filledëŠ” <code class="language-plaintext highlighter-rouge">width: 50%</code>ì—¬ì•¼ í•©ë‹ˆë‹¤. leftì™€ widthì— ëŒ€í•´ì„œ ë‘ ì†ì„± ê°’ì´ 50%ë¡œ ê°™ì€ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ window.getComputedStyle()ë¡œ ë¸Œë¼ìš°ì € ìƒì—ì„œ CSS ì†ì„± ê°’ì„ ê°€ì ¸ì™€ ì„œë¡œ ê°™ì€ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤í–‰ëœ ë’¤ì— ê³µí†µì ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">afterEach()</code> ë¼ëŠ” í…ŒìŠ¤íŠ¸ ì‚¬ì´í´ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/d0face00-1709-4a5b-8201-73bc9f157665" alt="Cypress ì‹¤í–‰ ê²°ê³¼ shouldBeEqualPercentage() í•¨ìˆ˜ê¹Œì§€ í†µê³¼í•œ ëª¨ìŠµ" />
<em>ì „ì²´ì ì¸ í…ŒìŠ¤íŠ¸ íë¦„ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p><br /></p>

<h3 id="2-5-í‚¤ë³´ë“œ-ì´ë²¤íŠ¸-í…ŒìŠ¤íŠ¸í•˜ê¸°">2-5. í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°</h3>

<p>í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ëŠ” cy.trigger()ë¥¼ í†µí•´ì„œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ ì¸ìë¡œ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì¢…ë¥˜, ë‘ë²ˆì§¸ ì¸ìë¡œ keyCodeë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œëŠ” ì˜¤ë¥¸ìª½ ë°©í–¥í‚¤ë¥¼ ëˆŒëŸ¬ì„œ Slider ê°’ì´ stepë§Œí¼ ì¦ê°€í•œ ê²ƒì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. (ì—¬ê¸°ì„œ step ê°’ì€ ê¸°ë³¸ ê°’ìœ¼ë¡œ 1ì…ë‹ˆë‹¤)</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
describe('Slider component test', () =&gt; {
  // (ìƒë½)
  describe('Default slider', () =&gt; {
    beforeEach(() =&gt; {
      initAlias('default');
    })
    // (ìƒëµ)
    it('Increase with right arrow', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 39 });
      cy.get('@thumb').invoke('text').should('eq', '51');
    });
  });
});
</code>
</pre>

<p>ì´ë ‡ê²Œ ì¶”ê°€í•œ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë„ Cypressì—ì„œ ì •ìƒì ìœ¼ë¡œ í†µê³¼í•©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (ìµœëŒ“ê°’ í´ë¦­, ë°©í–¥í‚¤ ì…ë ¥, íŠ¹ìˆ˜í‚¤ ì…ë ¥)ë„ ì¶”ê°€í•œ ìµœì¢…ì ì¸ Default Sliderì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/e2e/components/slider.cy.ts
const SLIDER_PREFIX = '#cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const FILLED_ID = `${SLIDER_PREFIX}-filled`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

describe('Slider component test', () =&gt; {
  const initAlias = (storyName: string) =&gt; {
    cy.getStory('slider', storyName).as('slider');
    cy.get('@slider').find(TRACK_ID).as('track');
    cy.get('@slider').find(FILLED_ID).as('filled');
    cy.get('@slider').find(THUMB_ID).as('thumb');
  }

  const shouldBeEqualPercentage = (dimension: FilledDimension, position: ThumbPosition) =&gt; {
    cy.get('@filled').then(([ filledElement ]) =&gt; {
      cy.get('@thumb').then(([ thumbElement ]) =&gt; {
        const filledStyle = window.getComputedStyle(filledElement)[dimension];
        const thumbStyle = window.getComputedStyle(thumbElement)[position];
        expect(filledStyle).equal(thumbStyle);
      });
    });
  }

  beforeEach(() =&gt; {
    cy.visitStory('components-slider');
  });

  describe('Default slider', () =&gt; {
    beforeEach(() =&gt; {
      initAlias('default');
    });

    afterEach(() =&gt; {
      shouldBeEqualPercentage('width', 'left');
    });

    it('Click min value', () =&gt; {
      cy.get('@track').click('left');
      cy.get('@thumb').invoke('text').should('eq', '0');
    });

    it('Click max value', () =&gt; {
      cy.get('@track').click('right');
      cy.get('@thumb').invoke('text').should('eq', '100');
    });

    it('Increase with right arrow', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 39 });
      cy.get('@thumb').invoke('text').should('eq', '51');
    });

    it('Increase with up arrow', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 38 });
      cy.get('@thumb').invoke('text').should('eq', '51');
    });

    it('Decrease with left arrow', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 37 });
      cy.get('@thumb').invoke('text').should('eq', '49');
    });

    it('Decrease with down arrow', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 40 });
      cy.get('@thumb').invoke('text').should('eq', '49');
    });

    it('Increase with page up', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 33 });
      cy.get('@thumb').invoke('text').should('eq', '60');
    });

    it('Decrease with page down', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 34 });
      cy.get('@thumb').invoke('text').should('eq', '40');
    });

    it('Set min with home key', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 36 });
      cy.get('@thumb').invoke('text').should('eq', '0');
    });

    it('Set max with end key', () =&gt; {
      cy.get("@thumb").trigger('keydown', { keyCode : 35 });
      cy.get('@thumb').invoke('text').should('eq', '100');
    });
  });
});
</code>
</pre>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/ab250d2b-c027-4865-ad8d-ce866dc186c0" alt="Default Sliderì— ëŒ€í•´ì„œ ì‘ì„±í•œ 10ê°€ì§€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ í†µê³¼í•œ ëª¨ìŠµ" />
<em>Default Sliderì— ëŒ€í•´ì„œ ì‘ì„±í•œ 10ê°€ì§€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ í†µê³¼í–ˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p>Default Slider ìŠ¤í† ë¦¬ë¥¼ ì œì™¸í•œ ë‹¤ë¥¸ ìŠ¤í† ë¦¬ì—ë„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì ìš©í•´ì¤ë‹ˆë‹¤. ë‹¨, ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ì§„ ì•Šê³  ë™ì‘ì„ ëª…í™•í•˜ê²Œ í•˜ê³  ì‹¶ì€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ìˆì„ ê²½ìš°ì—ë§Œ ì ìš©í–ˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì´ˆê¸°ê°’ì´ 0ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ” <code class="language-plaintext highlighter-rouge">Start from Zero Slider</code>ë¼ëŠ” ìŠ¤í† ë¦¬ì—ì„œëŠ” thumbë¥¼ ì¢Œì¸¡ìœ¼ë¡œ ì›€ì§ì—¬ë„ ìµœì†Ÿê°’ ì´í•˜ë¡œ ê°’ì´ ì¤„ì–´ë“¤ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤ë§Œ ì ìš©í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ì‘ì„±í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì „ë¶€ í†µê³¼í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/e8b494c0-45fc-463b-9dc3-c4cd34d02446" alt="Sliderì˜ 8ê°€ì§€ ìŠ¤í† ë¦¬ì— ëŒ€í•´ ì¶”ê°€í•œ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ê°€ ëª¨ë‘ í†µê³¼í•œ ëª¨ìŠµ" />
<em>Sliderì˜ 8ê°€ì§€ ìŠ¤í† ë¦¬ì— ëŒ€í•´ ì¶”ê°€í•œ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ê°€ ëª¨ë‘ í†µê³¼í–ˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p><br /></p>

<h2 id="3-storybook-play-function">3. Storybook Play function</h2>

<p>ì´ë ‡ê²Œ Cypressë¥¼ ì ìš©í•˜ë˜ ì¤‘, ë™ë£Œ íŒ€ì› ë¶„ê»˜ì„œ Storybookì—ì„œ ì œê³µí•˜ëŠ” <a href="https://storybook.js.org/docs/react/writing-stories/play-function#page-top">Play function</a>ìœ¼ë¡œ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤ê³  ì•Œë ¤ì£¼ì…¨ìŠµë‹ˆë‹¤. Play functionì€ ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ íŒŒì¼ì—ì„œ testing-library, jest ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ ì¸í„°ë™ì…˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. Cypressì—ì„œ ì§„í–‰í–ˆë˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤ì„ ë™ì¼í•˜ê²Œ ìˆ˜í–‰í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h3 id="3-1-í™˜ê²½-ì„¤ì •">3-1. í™˜ê²½ ì„¤ì •</h3>

<p><a href="https://storybook.js.org/addons/@storybook/addon-interactions">Storybook Addon Interactions</a>ì„ ì„¤ì¹˜í•˜ë©´ ë”ìš± ìˆ˜ì›”í•˜ê²Œ ë””ë²„ê¹…ì„ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs shell">yarn add -D @storybook/addon-interactions @storybook/jest @storybook/testing-library
</code>
</pre>

<p>ì„¤ì¹˜í•œ addonì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ main.cjs íŒŒì¼ì—ì„œ addons ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// .storybook/main.cjs
module.exports = {
  addons: [
    '@storybook/addon-interactions', // ì¶”ê°€
  ],
  // (ìƒëµ)
};
</code>
</pre>

<p>ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë„ë¡ <a href="https://storybook.js.org/addons/@storybook/test-runner">Storybook Test Runner</a>ë„ ì„¤ì¹˜í•´ì¤ë‹ˆë‹¤.</p>

<pre>
<code class="hljs shell">yarn add -D @storybook/test-runner
</code>
</pre>

<p>test-runnerë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ë¡œì»¬ì—ì„œ Storybookì´ ì‹¤í–‰ë˜ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìœ„ì—ì„œ Cypressë¥¼ ì„¤ì¹˜í•  ë•Œ ì‚¬ìš©í–ˆë˜ concurrentlyì™€ wait-onì„ í™œìš©í•´ì„œ ëª…ë ¹ì–´ë¥¼ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.</p>

<pre>
<code class="hljs json">// package.json
"scripts": {
  // ...
  "dev": "yarn storybook",
  "storybook": "start-storybook -p 6006",
  "test-storybook": "test-storybook",
  "test:play": "concurrently 'yarn dev' 'wait-on http://localhost:6006 &amp;&amp; yarn test-storybook'"
},
</code>
</pre>

<p>ì´ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•œ ë’¤ì— <code class="language-plaintext highlighter-rouge">yarn test:play</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h3 id="3-2-play-function-ì‘ì„±í•˜ê¸°">3-2. Play function ì‘ì„±í•˜ê¸°</h3>

<p>Cypressì—ì„œëŠ” ë³„ë„ì˜ íŒŒì¼ì„ ìƒì„±í•˜ê³  describe(), it()ê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì •ì˜í–ˆì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ê° ìŠ¤í† ë¦¬ì— ëŒ€í•´ì„œ <code class="language-plaintext highlighter-rouge">play</code> ì†ì„±ì„ ì •ì˜í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” ì¸í„°ë™ì…˜ ë¡œì§ì„ í•œêº¼ë²ˆì— ì‘ì„±í•©ë‹ˆë‹¤. Cypressì—ì„œëŠ” iframe ë‚´ë¶€ì— ìˆëŠ” ìš”ì†Œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ ë³„ë„ì˜ Custom Commandsë¥¼ ì‘ì„±í–ˆì§€ë§Œ, play functionì„ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë˜ ì½”ë“œì²˜ëŸ¼ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ë˜ëŠ” <code class="language-plaintext highlighter-rouge">canvasElement</code>ë¡œ ì†ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°’ê³¼ <code class="language-plaintext highlighter-rouge">@storybook/testing-library</code>ì—ì„œ ì œê³µí•˜ëŠ” getByRole, getByText ë“±ì˜ ë‹¤ì–‘í•œ ë©”ì„œë“œë¥¼ ì¡°í•©í•˜ì—¬ DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs jsx">// src/components/Dummy/Dummy.stories.tsx
import { getByText } from '@storybook/testing-library';

// (ìƒëµ)

const Template: ComponentStory&lt;typeof Dummy&gt; = (args) =&gt; &lt;Dummy {...args} /&gt;;

export const Default = Template.bind({});
Default.args = { ...DEFAULT_PROPS };

Default.play = async ({ canvasElement }) =&gt; {
  const dummy = getByText(canvasElement, "dummy"); // textê°€ "dummy"ì¸ DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. 

  // í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
};
</code>
</pre>

<p>ì—¬ê¸°ì„œ Storybook ë²„ì „ì— ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì´ ë‘ ê°€ì§€ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.</p>

<p>ì²«ë²ˆì§¸ë¡œ Storybook 7ë²„ì „ë¶€í„° ì§€ì›í•˜ëŠ” CSF3 í¬ë§·ì„ ë”°ë¥´ëŠ” ìŠ¤í† ë¦¬ íŒŒì¼ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ <code class="language-plaintext highlighter-rouge">step</code> ì„ ì‚¬ìš©í•´ì„œ ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><a href="https://storybook.js.org/docs/react/essentials/interactions">ê´€ë ¨ ë§í¬</a></p>

<pre>
<code class="hljs jsx">// src/components/Dummy/Dummy.stories.tsx
import { getByText } from '@storybook/testing-library';

// (ìƒëµ)

const Template: ComponentStory&lt;typeof Dummy&gt; = (args) =&gt; &lt;Dummy {...args} /&gt;;

export const Default = Template.bind({});
Default.args = { ...DEFAULT_PROPS };

Default.play = async ({ canvasElement, step }) =&gt; { // step ì¶”ê°€
  const dummy = getByText(canvasElement, "dummy");

  await step('í…ŒìŠ¤íŠ¸ ì œëª©', async () =&gt; {
    // í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
  });
};
</code>
</pre>

<p>ì´ë ‡ê²Œ í•˜ë©´ ë§ˆì¹˜ í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ describe()ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ë¼ë²¨ì„ Storybookì˜ <code class="language-plaintext highlighter-rouge">Interactions</code> íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<p>ë°˜ë©´, Storybook 7 ì´ì „ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆì„ ê²½ìš° CSF2 í¬ë§·ì„ ë”°ë¥´ê¸° ë•Œë¬¸ì— stepì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë³„ë„ë¡œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ê°ì‹¸ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>

<p><a href="https://storybook.js.org/docs/6.5/react/essentials/interactions#snippet-storybook-interactions-play-function">ê´€ë ¨ ë§í¬</a></p>

<pre>
<code class="hljs jsx">// src/components/Dummy/Dummy.stories.tsx
import { getByText } from '@storybook/testing-library';

// (ìƒëµ)

const Template: ComponentStory&lt;typeof Dummy&gt; = (args) =&gt; &lt;Dummy {...args} /&gt;;

export const Default = Template.bind({});
Default.args = { ...DEFAULT_PROPS };

Default.play = async ({ canvasElement }) =&gt; {
  const dummy = getByText(canvasElement, "dummy");

  // í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
};
</code>
</pre>

<p>í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” Storybook 6.5 ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ ì£¼ì„ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì´ì œ Cypressì—ì„œ ì§„í–‰í–ˆë˜ ê²ƒê³¼ ë™ì¼í•˜ê²Œ Default Sliderë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ì—¬ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¶€í„° í…ŒìŠ¤íŠ¸í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h3 id="3-3-ë§ˆìš°ìŠ¤-ì´ë²¤íŠ¸-í…ŒìŠ¤íŠ¸í•˜ê¸°">3-3. ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°</h3>

<p>ë¨¼ì € Sliderë¥¼ êµ¬ì„±í•˜ëŠ” DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ì½”ë“œë¶€í„° ì‘ì„±í•©ë‹ˆë‹¤. Sliderì˜ í•˜ìœ„ ìš”ì†Œë¥¼ id ì†ì„±ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ canvasElement ì†ì„±ê³¼ <code class="language-plaintext highlighter-rouge">queryByAttribute()</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs jsx">// src/components/Slider/Slider.stories.tsx
import { queryByAttribute } from '@storybook/testing-library';

// (ìƒëµ)

const SLIDER_PREFIX = 'cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

Default.play = async ({ canvasElement }) =&gt; {
  const thumb = queryByAttribute('id', canvasElement, THUMB_ID);
  const track = queryByAttribute('id', canvasElement, TRACK_ID);

  if (!thumb || !track) return;

  // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ì‘ì„± 
};
</code>
</pre>

<p>ì¸í„°ë™ì…˜ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê¸° ìœ„í•´ì„œ <code class="language-plaintext highlighter-rouge">@storybook/testing-library</code>ì—ì„œ ì œê³µí•˜ëŠ” í•¨ìˆ˜ ì¤‘ userEventì™€ fireEventë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. useEventì™€ ë‹¬ë¦¬ fireEventëŠ” ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ ì •í™•í•œ ì¢Œí‘œë¥¼ ì˜µì…˜ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">fireEvent</code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¤ìŒ ì½”ë“œì—ì„œëŠ” thumbë¥¼ trackì˜ ê°€ì¥ ì¢Œì¸¡ ì¢Œí‘œ(left)ë¡œ ì˜®ê²¼ì„ ë•Œ ìµœì†Ÿê°’ìœ¼ë¡œ ì„¤ì •ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs jsx">// src/components/Slider/Slider.stories.tsx
import { expect } from '@storybook/jest';
import { queryByAttribute, fireEvent, waitFor } from '@storybook/testing-library';

// (ìƒëµ)

const SLIDER_PREFIX = 'cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

Default.play = async ({ canvasElement }) =&gt; {
  const thumb = queryByAttribute('id', canvasElement, THUMB_ID);
  const track = queryByAttribute('id', canvasElement, TRACK_ID);

  if (!thumb || !track) return;

  const { x, y } = thumb.getBoundingClientRect();
  const { left, right } = track.getBoundingClientRect();

  // Drag min value
  await fireEvent.mouseDown(thumb, { clientX: x, clientY: y });
  await fireEvent.mouseMove(thumb, { clientX: left, clientY: y });
  await fireEvent.mouseUp(thumb);
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('0'));
};
</code>
</pre>

<p>fireEventë¥¼ ì—°ì†ìœ¼ë¡œ í˜¸ì¶œí•  ê²½ìš° ê° ì´ë²¤íŠ¸ì˜ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— await í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ê°’ì„ ê²€ì¦í•˜ëŠ” expect()ë¬¸ì€ <code class="language-plaintext highlighter-rouge">waitFor()</code>ë¡œ ê°ì‹¸ì„œ mouseUp ì´ë²¤íŠ¸ ì´í›„ì— ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/2b37199e-c3aa-4822-a4c0-74da15377a70" alt="'Drag min value'ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì´ë²¤íŠ¸ë“¤ì´ ê¸°ë¡ëœ Interactions íƒ­ì˜ ëª¨ìŠµ" />
<em>â€˜Drag min valueâ€™ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì´ë²¤íŠ¸ë“¤ì„ Interactions íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p>drag ë™ì‘ì„ ìœ„í•´ ë°˜ë³µë˜ëŠ” ì—¬ëŸ¬ ê°œì˜ fireEventë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ì£¼ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">simulateDragEvent()</code> í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•©ë‹ˆë‹¤.</p>

<pre>
<code class="hljs jsx">// src/components/Slider/Slider.stories.tsx
import { expect } from '@storybook/jest';
import { queryByAttribute, fireEvent, waitFor } from '@storybook/testing-library';

// (ìƒëµ)

const SLIDER_PREFIX = 'cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

// íƒ€ì… ì¶”ê°€ 
type KeyName = 'ArrowRight' ;

// ì¶”ê°€ 
const simulateDragEvent = async (target: HTMLElement, fromX: number, fromY: number, toX: number, toY: number) =&gt; {  
  await fireEvent.mouseDown(target, { clientX: fromX, clientY: fromY });
  await fireEvent.mouseMove(target, { clientX: toX, clientY: toY });
  await fireEvent.mouseUp(target);
}

Default.play = async ({ canvasElement }) =&gt; {
  const thumb = queryByAttribute('id', canvasElement, THUMB_ID);
  const track = queryByAttribute('id', canvasElement, TRACK_ID);

  if (!thumb || !track) return;

  const { x, y } = thumb.getBoundingClientRect();
  const { left, right } = track.getBoundingClientRect();

  // Drag min value
  await simulateDragEvent(thumb, x, y, left, y);
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('0'));
};
</code>
</pre>

<p><br /></p>

<h3 id="3-4-í‚¤ë³´ë“œ-ì´ë²¤íŠ¸-í…ŒìŠ¤íŠ¸í•˜ê¸°">3-4. í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°</h3>

<p>ë‹¤ìŒìœ¼ë¡œ í‚¤ë³´ë“œ ì¸í„°ë™ì…˜ì„ ì¶”ê°€í•©ë‹ˆë‹¤. íŠ¹ì • í‚¤ë¥¼ ì…ë ¥í•˜ëŠ” ë™ì‘ì€ fireEvent.keyDown()ê³¼ fireEvent.keyUp()ì„ ì—°ë‹¬ì•„ í˜¸ì¶œí•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤. simulateDragEvent()ë¥¼ ì •ì˜í•œ ê²ƒì²˜ëŸ¼ <code class="language-plaintext highlighter-rouge">simulateKeyboardEvent()</code> í•¨ìˆ˜ë¥¼ ì ìš©í•˜ì—¬ ì˜¤ë¥¸ìª½ ë°©í–¥í‚¤ë¥¼ ì…ë ¥í–ˆì„ ë•Œì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs jsx">// src/components/Slider/Slider.stories.tsx
import { expect } from '@storybook/jest';
import { queryByAttribute, fireEvent, waitFor } from '@storybook/testing-library';

// (ìƒëµ)

const SLIDER_PREFIX = 'cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

// íƒ€ì… ì¶”ê°€ 
type KeyName = 
  'ArrowRight' 
  | 'ArrowUp' 
  | 'ArrowLeft' 
  | 'ArrowDown'
  | 'PageUp' 
  | 'PageDown'
  | 'Home' 
  | 'End';

// í•¨ìˆ˜ ì¶”ê°€ 
const simulateKeyboardEvent = async (target: HTMLElement, key: KeyName) =&gt; {
  await fireEvent.keyDown(target, { key });
  await fireEvent.keyUp(target, { key });
}

Default.play = async ({ canvasElement }) =&gt; {
  const thumb = queryByAttribute('id', canvasElement, THUMB_ID);
  const track = queryByAttribute('id', canvasElement, TRACK_ID);

  if (!thumb || !track) return;

  const { x, y } = thumb.getBoundingClientRect();
  const { left, right } = track.getBoundingClientRect();

  // Increase with right arrow
  await simulateKeyboardEvent(thumb, 'ArrowRight');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('51'));
};
</code>
</pre>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/b637bf29-08a0-497d-a95c-a8ac66a9dfb1" alt="'Increase with right arrow'ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì´ë²¤íŠ¸ë“¤ì´ Interactions íƒ­ì— ë‚˜íƒ€ë‚œ ëª¨ìŠµ" />
<em>â€˜Increase with right arrowâ€™ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì´ë²¤íŠ¸ë“¤ì„ Interactions íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p>ë‚˜ë¨¸ì§€ ë°©í–¥í‚¤ì™€ íŠ¹ìˆ˜í‚¤ë¥¼ ì…ë ¥í–ˆì„ ë•Œì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¶”ê°€í•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ìì„¸í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ì„¤ëª…ì€ Cypressì—ì„œ ì‘ì„±í–ˆë˜ ê²ƒê³¼ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— ë¶€ì—° ì„¤ëª…ì„ ì¤„ì…ë‹ˆë‹¤.</p>

<pre>
<code class="hljs jsx">// src/components/Slider/Slider.stories.tsx
import { expect } from '@storybook/jest';
import { queryByAttribute, fireEvent, waitFor } from '@storybook/testing-library';

// (ìƒëµ)

const SLIDER_PREFIX = 'cds_Slider-slider';
const TRACK_ID = `${SLIDER_PREFIX}-track`;
const THUMB_ID = `${SLIDER_PREFIX}-thumb`;

const simulateDragEvent = async (target: HTMLElement, fromX: number, fromY: number, toX: number, toY: number) =&gt; {  
  await fireEvent.mouseDown(target, { clientX: fromX, clientY: fromY });
  await fireEvent.mouseMove(target, { clientX: toX, clientY: toY });
  await fireEvent.mouseUp(target);
}

type KeyName = 
  'ArrowRight' 
  | 'ArrowUp' 
  | 'ArrowLeft' 
  | 'ArrowDown'
  | 'PageUp' 
  | 'PageDown'
  | 'Home' 
  | 'End';

const simulateKeyboardEvent = async (target: HTMLElement, key: KeyName) =&gt; {
  await fireEvent.keyDown(target, { key });
  await fireEvent.keyUp(target, { key });
}

Default.play = async ({ canvasElement }) =&gt; {
  const thumb = queryByAttribute('id', canvasElement, THUMB_ID);
  const track = queryByAttribute('id', canvasElement, TRACK_ID);

  if (!thumb || !track) return;

  const { x, y } = thumb.getBoundingClientRect();
  const { left, right } = track.getBoundingClientRect();

  // Increase with right arrow
  await simulateKeyboardEvent(thumb, 'ArrowRight');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('51'));

  // Increase with up arrow
  await simulateKeyboardEvent(thumb, 'ArrowUp');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('52'));

  // Decrease with left arrow
  await simulateKeyboardEvent(thumb, 'ArrowLeft');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('51'));

  // Decrease with down arrow
  await simulateKeyboardEvent(thumb, 'ArrowDown');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('50'));

  // Increase with page up
  await simulateKeyboardEvent(thumb, 'PageUp');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('60'));

  // Decrease with page down
  await simulateKeyboardEvent(thumb, 'PageDown');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('50'));

  // Set min with home key
  await simulateKeyboardEvent(thumb, 'Home');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('0'));

  // Set max with end key
  await simulateKeyboardEvent(thumb, 'End');
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('100'));

  // Drag min value
  await simulateDragEvent(thumb, x, y, left, y);
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('0'));

  // Drag max value
  await simulateDragEvent(thumb, x, y, right, y);
  await waitFor(() =&gt; expect(thumb.textContent).toEqual('100'));
};
</code>
</pre>

<p>ë‚˜ë¨¸ì§€ ìŠ¤í† ë¦¬ì— ëŒ€í•´ì„œë„ í•„ìš”í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ì¶”ê°€í•œ ë’¤ ì²˜ìŒì— ì •ì˜í–ˆë˜ â€˜yarn test:playâ€™ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/dfe397b6-4971-4422-a693-06c51f3af28c" alt="í„°ë¯¸ë„ì—ì„œ í”„ë¡œì íŠ¸ í´ë”ì— ìˆëŠ” ëª¨ë“  stories íŒŒì¼ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œ ëª¨ìŠµ" />
<em>í”„ë¡œì íŠ¸ í´ë”ì— ìˆëŠ” ëª¨ë“  ìŠ¤í† ë¦¬ íŒŒì¼ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</em>
<br /></p>

<p>ì´ë ‡ê²Œ Storybookì—ì„œ ì œê³µí•˜ëŠ” play function ê¸°ëŠ¥ë„ í™œìš©í•˜ì—¬ Slider ì»´í¬ë„ŒíŠ¸ì—ì„œ ë§ˆìš°ìŠ¤ì™€ í‚¤ë³´ë“œ ì¸í„°ë™ì…˜ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="4-cypressì™€-storybook-play-function-ê°„ë‹¨-ë¹„êµ">4. Cypressì™€ Storybook Play function ê°„ë‹¨ ë¹„êµ</h2>

<p>ê°„ë‹¨í•œ ê¸°ëŠ¥ë“¤ë§Œ ì‚¬ìš©í•´ë³´ì•˜ì§€ë§Œ ì§§ê²Œ Cypressì™€ Storybook Play functionì„ ë¹„êµí•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>Cypress
    <ul>
      <li>âœ… í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë³„ë„ì˜ íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>âœ… beforeEach(), afterEach() ë“± í…ŒìŠ¤íŠ¸ ê´€ë ¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>âœ… Custom Commandsì™€ í…ŒìŠ¤íŠ¸ íŒŒì¼ ë‚´ë¶€ í•¨ìˆ˜ë¥¼ ì ì ˆí•˜ê²Œ ì„ì–´ì„œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>â—ï¸ ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ í´ë¦­í•  ìœ„ì¹˜ë¥¼ ë¬¸ìì—´ë¡œ ì§€ì •í•  ìˆ˜ ìˆì–´ì„œ í¸ë¦¬í•©ë‹ˆë‹¤.</li>
      <li>â—ï¸ ìƒˆë¡œ í•™ìŠµí•´ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ë¬¸ë²•ë“¤ì´ ë§ìŠµë‹ˆë‹¤.</li>
      <li>â—ï¸ async-await ë¬¸ë²•ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë³„ë„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. (cypress-promise)</li>
    </ul>
  </li>
  <li>Play function
    <ul>
      <li>âœ… Storybookì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ê²½ìš° í¸ë¦¬í•œ ê¸°ëŠ¥ì´ ë§ìŠµë‹ˆë‹¤. (canvasElement ë“±)</li>
      <li>âœ… ìƒëŒ€ì ìœ¼ë¡œ ìƒˆë¡œ ìµí˜€ì•¼ í•  ë¬¸ë²•ë“¤ì´ ì ìŠµë‹ˆë‹¤.</li>
      <li>âœ… ë¸Œë¼ìš°ì €ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³ ë„ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li>â—ï¸ ìŠ¤í† ë¦¬ íŒŒì¼ ë‚´ë¶€ì— ì‘ì„±í•˜ì—¬ ë‹¤ì†Œ ë³µì¡í•´ ë³´ì…ë‹ˆë‹¤.</li>
      <li>â—ï¸ ê°ê°ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ì–´ì„œ ë¶ˆí¸í•©ë‹ˆë‹¤.</li>
      <li>â—ï¸ ì—°ì†ëœ ì´ë²¤íŠ¸ëŠ” awaitì„ ì ìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•  ë•Œë„ ê³„ì† async-awaitì´ í•„ìš”í•©ë‹ˆë‹¤.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="5-cypress-ìˆ˜ì •ì‚¬í•­">5. Cypress ìˆ˜ì •ì‚¬í•­</h2>

<h3 id="5-1-ì˜¤ë¥˜-ë°œìƒ">5-1. ì˜¤ë¥˜ ë°œìƒ</h3>

<p>Cypress ê´€ë ¨ PRì„ ì˜¬ë ¸ëŠ”ë° ì´ëŸ° ì½”ë©˜íŠ¸ê°€ ë‹¬ë ¸ìŠµë‹ˆë‹¤.</p>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/16d1904e-9743-4dbf-8420-55cd53feb868" alt="ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë‹¬ë¼ì§„ë‹¤ëŠ” ë‚´ìš©ì˜ GitHub PR ì½”ë©˜íŠ¸" />
<em>ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë‹¬ë¼ì§„ë‹¤ëŠ” ë§ì”€</em>
<br /></p>

<p>ì—¬ëŸ¬ íŒ€ì›ë“¤ì´ ë™ì¼í•œ ì¦ìƒì„ ì œë³´í•´ì£¼ì…”ì„œ ì½”ë“œì— ìˆ˜ì •ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ì˜ì‹¬ë˜ëŠ” ë¶€ë¶„ì€ iframe ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì‹œê°„ì´ Cypressì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ë¹„ë™ê¸° ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ë³´ë‹¤ ì˜¤ë˜ ê±¸ë ¤ì„œ iframe ë‚´ë¶€ì— ìˆëŠ” DOM ìš”ì†Œë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í•´ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ì¦‰, iframe ë‚´ë¶€ DOM ìš”ì†Œë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•œ ì±„ë¡œ initAlias() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë‹ˆ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h3 id="5-2-visitstory-ì»¤ë§¨ë“œ-ìˆ˜ì •">5-2. visitStory ì»¤ë§¨ë“œ ìˆ˜ì •</h3>

<p><a href="https://ui.toast.com/posts/ko_20220111#e2e-%ED%85%8C%EC%8A%A4%ED%8C%85-%EB%8F%84%EA%B5%AC%EC%99%80-%ED%95%A8%EA%BB%98">ì´ ê¸€</a>ì— ìˆëŠ” ë‚´ìš©ì—ì„œ URLë¡œ ê° ìŠ¤í† ë¦¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ ì½”ë“œì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ í˜ì´ì§€ì˜ iframe ë‚´ë¶€ì—ì„œ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆë‹¤ë©´, ì´ì œëŠ” iframe ë‚´ë¶€ë¥¼ URLë¡œ ì§ì ‘ ì ‘ê·¼í•˜ì—¬ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë„ë¡ ë³€ê²½í•´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì›í•˜ëŠ” ìŠ¤í† ë¦¬ê°€ í™•ì‹¤í•˜ê²Œ ë Œë”ë§ëœ URLì— ì ‘ê·¼í•˜ì—¬ DOM ìš”ì†Œë¥¼ ë°œê²¬í•˜ì§€ ëª»í•˜ëŠ” ê²°ê³¼ê°€ ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// cypress/support/commands.ts
// ê¸°ì¡´ ì½”ë“œ
Cypress.Commands.add("visitStory", (path) =&gt; {
  cy.visit(`http://localhost:6006/?path=/docs/${path}`);
})

// ë³€ê²½ëœ ì½”ë“œ
Cypress.Commands.add("visitStory", (componentName, storyName) =&gt; {
  cy.visit(`http://localhost:6006/iframe.html?id=components-${componentName}--${storyName}&amp;viewMode=story`)
})
</code>
</pre>

<p>ìƒˆë¡œ ë³€ê²½í•œ URLë¡œ ì ‘ì†í•´ì„œ ê°œë°œì ë„êµ¬ë¡œ DOM Treeë¥¼ ì‚´í´ë³´ë©´ iframe ë‚´ë¶€ì— ìˆë˜ <code class="language-plaintext highlighter-rouge">#root</code>ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ initAlias() í•¨ìˆ˜ì—ì„œëŠ” ì´ì œ #root ìš”ì†Œë§Œ ì°¾ìœ¼ë©´ ë˜ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì„ í•„ìš”ê°€ ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤. ë˜í•œ í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ visitStory()ë¥¼ í˜¸ì¶œí•˜ëŠ” ìœ„ì¹˜ë„ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.</p>

<pre>
<code class="hljs js">// slider.cy.ts
describe('Slider component test', () =&gt; {
  const initAlias = () =&gt; { // í•¨ìˆ˜ ìˆ˜ì •
    cy.get('#root').as('root'); 
    cy.get('@root').find(TRACK_ID).as('track');
    cy.get('@root').find(FILLED_ID).as('filled');
    cy.get('@root').find(THUMB_ID).as('thumb');
  }

  const shouldBeEqualPercentage = (dimension: FilledDimension, position: ThumbPosition) =&gt; {...}

  // ê³µí†µ beforEach ì‚­ì œ

  describe('Default slider', () =&gt; {
    beforeEach(() =&gt; {
      cy.visitStory('slider', 'default'); // ì¶”ê°€
      initAlias();
    });

    afterEach(() =&gt; {
      shouldBeEqualPercentage('width', 'left');
    });

    it('Click min value', () =&gt; {
      cy.get('@track').click('left');
      cy.get('@thumb').invoke('text').should('eq', '0');
    });

    // (ìƒëµ)
  });
});
</code>
</pre>

<p><br />
<img src="https://github.com/iyu88/Algorithm/assets/31645195/3b7ac296-06f8-43a1-bbd5-067a91bd35f2" alt="í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ì´ 66ì´ˆì—ì„œ 17ì´ˆë¡œ ì¤„ì–´ë“  ëª¨ìŠµ" />
<em>ë™ì¼í•˜ê²Œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•˜ë©´ì„œ ì‹¤í–‰ ì‹œê°„ì´ í¬ê²Œ ì¤„ì–´ë“¤ì—ˆìŠµë‹ˆë‹¤.</em>
<br /></p>

<p>ë³€ê²½ëœ ê²°ê³¼ë¡œ ì¸í•´ì„œ ê°„í—ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆë˜ ì ì„ ê³ ì¹  ìˆ˜ ìˆì—ˆê³ , ë”ë¶ˆì–´ ì „ì²´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰ ì‹œê°„ì„ ê¸°ì¡´ 66ì´ˆì—ì„œ 17ì´ˆë¡œ ë‹¨ì¶•í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>

<p><br /></p>

<h2 id="6-ë§ºìœ¼ë©°">6. ë§ºìœ¼ë©°</h2>

<p>ìë™ìœ¼ë¡œ í¸ë¦¬í•˜ê²Œ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œ ë‘ ê°€ì§€ ì„œë¡œ ë‹¤ë¥¸ ë°©ë²•ì„ ì‹œë„í•´ë³´ì•˜ìŠµë‹ˆë‹¤. í™•ì‹¤íˆ ì´ëŸ° í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì›í•˜ëŠ” ë™ì‘ì„ ì‹¤í–‰í•´ë³´ëŠ” ê²ƒì´ ê°œë°œ ê³¼ì •ì—ì„œì˜ ì•ˆì „ì„±ì„ íš¨ìœ¨ì ìœ¼ë¡œ ë³´ì¥í•  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>

<p>ê°œë°œ ê³¼ì •ì—ì„œ ë“¤ì—ˆë˜ ëª‡ ê°€ì§€ ìƒê°ìœ¼ë¡œ ê¸€ì„ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.</p>

<ul>
  <li>
    <p>í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œì˜ ì¶”ìƒí™”ì— ëŒ€í•´ì„œ ìƒê°í•´ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í•¨ìˆ˜ë§Œìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë‚´ìš©ì„ ê°ì‹¸ëŠ” ê²ƒì€ ë°˜ë³µë˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ê°„í¸í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì½ëŠ” ë°ì— ë°©í•´ê°€ ë˜ì–´ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ì—†ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>data-attributeë“¤ì´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ë„ì›€ì´ ë§ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê°€ë ¹ Sliderì— propsë¡œ ì „ë‹¬í•œ min, max, defaultValue, step ë“±ì˜ ì •ë³´ë“¤ì„ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ê°€ì ¸ì˜¬ ë•Œ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì´ data-attributeì— ë¯¸ë¦¬ ì €ì¥í•´ë†“ê³  ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ ì‘ì„±ëœ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” data-attributeë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì§€ ì•Šì•˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìœ„í•´ì„œ ì„¤ì •í•´ë‘ë©´ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>CI ë‹¨ê³„ê¹Œì§€ëŠ” ì‘ì„±í•˜ì§€ ëª»í–ˆëŠ”ë° ê´€ë ¨ëœ GitHub Actionsë„ ì°¾ì•„ë³´ê³  ì ìš©í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>Cypressë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ E2E í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œ ê²ƒì€ ì•„ë‹ˆë‹¤ë³´ë‹ˆ ì‹¤ì œë¡œ API ìš”ì²­ì´ í•„ìš”í•œ ê²½ìš°ì—ë„ ì ìš©í•´ë³´ë©´ ë„ì›€ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>
  </li>
</ul>

<p><br /></p>

<p>[ì°¸ê³ ]</p>

<ul>
  <li>
    <p><a href="https://docs.cypress.io/api/table-of-contents">Table of Contents / Cypress Documentation</a></p>
  </li>
  <li>
    <p><a href="https://docs.cypress.io/api/cypress-api/custom-commands#Child-Commands">Custom Commands / Cypress Documentation</a></p>
  </li>
  <li>
    <p><a href="https://medium.com/coverwallet-engineering/ux-testing-with-cypress-storybook-a34a8ca506fd">UX Testing with Cypress + Storybook</a></p>
  </li>
  <li>
    <p><a href="https://medium.com/@nhashizume.ca/writing-ui-component-tests-with-storybook-and-cypress-b53cf357b1ae">Writing UI Component Tests with Storybook and Cypress</a></p>
  </li>
  <li>
    <p><a href="https://www.cypress.io/blog/2020/02/12/working-with-iframes-in-cypress/">Working with iframes in Cypress</a></p>
  </li>
  <li>
    <p><a href="https://github.com/cypress-io/cypress/issues/26540#issuecomment-1515301592">should(â€œhave.cssâ€) returns a pixel value when using inline percentage</a></p>
  </li>
  <li>
    <p><a href="https://storybook.js.org/docs/react/writing-tests/interaction-testing">Interaction tests</a></p>
  </li>
  <li>
    <p><a href="https://storybook.js.org/docs/react/writing-stories/play-function#page-top">Play function</a></p>
  </li>
  <li>
    <p><a href="https://storybook.js.org/addons/@storybook/addon-interactions">Interactions Addon / Storybook: Frontend workshop for UI development</a></p>
  </li>
  <li>
    <p><a href="https://storybook.js.org/addons/@storybook/test-runner">Test runner Addon / Storybook: Frontend workshop for UI development</a></p>
  </li>
  <li>
    <p><a href="https://storybook.js.org/docs/react/api/csf">Component Story Format (CSF)</a></p>
  </li>
  <li>
    <p><a href="https://github.com/storybookjs/storybook/issues/21562">Bug: composeStories from @storybook/react does not work with interactions that use the step function</a></p>
  </li>
  <li>
    <p><a href="https://testing-library.com/docs/dom-testing-library/api-events/">Firing Events / Testing Library</a></p>
  </li>
  <li>
    <p><a href="https://ui.toast.com/posts/ko_20220111#e2e-í…ŒìŠ¤íŒ…-ë„êµ¬ì™€-í•¨ê»˜">ìŠ¤í† ë¦¬ë¶ìœ¼ë¡œ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸í•˜ê¸°</a></p>
  </li>
</ul>

    </article>

    
    
    <section class="tags">
      <strong>Tags:</strong> <a href="/tag/Cypress">
        Cypress</a>,&nbsp;<a href="/tag/E2E_Test">
        E2E_Test</a>,&nbsp;<a href="/tag/Storybook">
        Storybook</a>,&nbsp;<a href="/tag/Component_Test">
        Component_Test</a>,&nbsp;<a href="/tag/Interaction_Test">
        Interaction_Test</a>,&nbsp;<a href="/tag/PlayFunction">
        PlayFunction</a>
    </section>
    
    

    <hr />

    <section>
      <script src="https://utteranc.es/client.js" repo="iyu88/iyu88.github.io" issue-term="pathname" label="utterances" theme="preferred-color-scheme" crossorigin="anonymous" async>
      </script>
    </section>

    <!-- <section class="share">
      <span>Share: </span>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="//www.linkedin.com/shareArticle?mini=true&url=%0A++++++http%3A%2F%2Flocalhost%3A4000%0A++++++%0A++++++%2Fcypress%2F2023%2F06%2F04%2Fcomponent-interaction-test.html" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;">
        <i class="fa fa-linkedin-square fa-lg"></i>
      </a>
      
      
      
      
      
    </section> -->

    

  </div>
</div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">
      êµ¬ë©ì„ ì™¸ë©´í•˜ì§€ ë§ì
    </h3>

    <div class="site-navigation">

      <p><strong>Site Map</strong></p>
      <ul class="pages">
        
	

	

	
	<li class="nav-link"><a href="/posts/">Posts</a>
	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	

	


      </ul>
    </div>

    <div class="site-contact">

      <p><strong>Contact</strong></p>
      <ul class="social-media-list">
        <li>
          <a href="mailto:iyu88887@gmail.com">
            <i class="fa fa-envelope-o"></i>
            <span class="username">
              iyu88887@gmail.com</span>
          </a>
        </li>

        
        
        <li>
          <a href="https://github.com/iyu88" title="https://github.com/iyu88">
            <i class="fa fa-github"></i>
            <span class="username">
              iyu88</span>
          </a>
        </li>
        
        
        
        <li>
          <a href="https://linkedin.com/in/í˜„ë¹ˆ-ì´-66710325b" title="Connect with me on LinkedIn">
            <i class="fa fa-linkedin"></i>
            <span class="username">
              HyunBin Lee</span>
          </a>
        </li>
        
        

      </ul>
    </div>

    <div class="site-signature">
      <p class="rss-subscribe text"><strong></strong></p>
      <p class="text">
        first Dev blog

      </p>
    </div>

  </div>

</footer>

<!-- Scripts -->
<script src="//code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"></script>
<script src="//unpkg.com/popper.js@1"></script>
<script src="//unpkg.com/tippy.js@5"></script>

<script type="text/javascript">
  $(document).ready(function() {
    // Default syntax highlighting
    hljs.initHighlightingOnLoad();

    // Header
    var menuToggle = $('#js-mobile-menu').unbind();
    $('#js-navigation-menu').removeClass("show");
    menuToggle.on('click', function(e) {
      e.preventDefault();
      $('#js-navigation-menu').slideToggle(function() {
        if ($('#js-navigation-menu').is(':hidden')) {
          $('#js-navigation-menu').removeAttr('style');
        }
      });
    });

    // Enable tooltips via Tippy.js
    if (Array.isArray(window.tooltips)) {
      window.tooltips.forEach(function(tooltip) {
        var selector = tooltip[0];
        var config = tooltip[1];
        tippy(selector, config);
      })
    }
  });
</script>



<!--  -->
<!-- Google Analytics -->
<!-- <script> -->
  <!-- (function(i, s, o, g, r, a, m) { -->
    <!-- i['GoogleAnalyticsObject'] = r; -->
    <!-- i[r] = i[r] || function() { -->
      <!-- (i[r].q = i[r].q || []).push(arguments) -->
    <!-- }, i[r].l = 1 * new Date(); -->
    <!-- a = s.createElement(o), -->
      <!-- m = s.getElementsByTagName(o)[0]; -->
    <!-- a.async = 1; -->
    <!-- a.src = g; -->
    <!-- m.parentNode.insertBefore(a, m) -->
  <!-- })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga'); -->
  <!-- ga('create', 'UA-243662455-3', 'auto'); -->
  <!-- ga('send', 'pageview', { -->
    <!-- 'page': '/cypress/2023/06/04/component-interaction-test.html', -->
    <!-- 'title': '[Cypress/Storybook] ì»´í¬ë„ŒíŠ¸ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸' -->
  <!-- }); -->
<!-- </script> -->
<!--  -->

    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
    <script type="text/javascript">
    if(!wcs_add) var wcs_add = {};
    wcs_add["wa"] = "10c052150c690f0";
    if(window.wcs) {
    wcs_do();
    }
    </script>

  </body>

</html>
